<p style="color: green"><%= notice %></p>

<%= render @observation %>

<div>
  <%= link_to "Edit this observation", edit_observation_path(@observation) %> |
  <%= link_to "Back to observations", observations_path %>

  <%= turbo_frame_tag 'observation_results' do %>
    <%= button_to "Evaluate this observation against rules at the time of observation", observation_run_path(@observation, historical: true), method: :post %>
    <%= button_to "Evaluate this observation against current rules", observation_run_path(@observation), method: :post %>
    <%- if @observation_results.present? %>
      <div class='rule_results_wrap'>
        <ul>
          <%- @observation_results.each do |r| %>
            <%= rule_results_helper(r) %>
          <% end %>
        </ul>
      </div>
    <% end %>
  <% end %>
  <%= button_to "Destroy this observation", @observation, method: :delete %>
</div>
